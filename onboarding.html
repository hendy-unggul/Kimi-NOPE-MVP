<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOPE - Choose Your Rage</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #000000;
            color: #ffffff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-top: 10px;
        }
        .header h1 {
            font-size: 2.2rem;
            color: #ff3b30;
            margin-bottom: 8px;
        }
        .header p {
            color: #888888;
            font-size: 0.9rem;
        }
        
        /* User Info */
        .user-info {
            background: #111111;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 25px;
            border: 1px solid #333333;
            text-align: center;
        }
        .user-info strong {
            color: #ff3b30;
        }
        
        /* Rules Display */
        .rules-box {
            background: rgba(255, 59, 48, 0.1);
            border: 1px solid #ff3b30;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 25px;
            text-align: center;
        }
        .rules-box h3 {
            color: #ff3b30;
            margin-bottom: 10px;
        }
        .rules-box ul {
            list-style: none;
            padding: 0;
        }
        .rules-box li {
            margin: 8px 0;
            color: #ff9500;
        }
        
        /* Zone Sections */
        .zone-section {
            margin-bottom: 25px;
        }
        .zone-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #333333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .zone-title .emoji {
            font-size: 1.1rem;
        }
        .pop-culture { color: #34c759; }
        .personal-pain { color: #ff9500; }
        .social-sickness { color: #ff3b30; }
        .movement { 
            color: #5ac8fa;
            opacity: 0.5;
            filter: grayscale(0.5);
        }
        
        /* Hashtag Selection */
        .hashtag-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }
        .hashtag-option {
            background: #111111;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            border: 1px solid #333333;
            transition: all 0.2s ease;
            text-align: center;
        }
        .hashtag-option:hover {
            background: #1a1a1a;
        }
        .hashtag-option.selected {
            background: rgba(255, 59, 48, 0.1);
            border-color: #ff3b30;
            box-shadow: 0 4px 12px rgba(255, 59, 48, 0.2);
        }
        .hashtag-option.locked {
            opacity: 0.3;
            cursor: not-allowed;
            background: #0a0a0a;
        }
        .hashtag-option .name {
            font-size: 1rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .hashtag-option .posts {
            color: #888888;
            font-size: 0.8rem;
        }
        
        /* Selection Status */
        .selection-status {
            background: #111111;
            border-radius: 10px;
            padding: 20px;
            margin: 25px 0;
            border: 1px solid #333333;
        }
        .status-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #222222;
        }
        .status-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .status-label {
            color: #888888;
        }
        .status-value {
            font-weight: bold;
        }
        .status-value.complete {
            color: #34c759;
        }
        .status-value.incomplete {
            color: #ff9500;
        }
        
        /* Continue Button */
        .continue-btn {
            display: block;
            width: 100%;
            padding: 18px;
            background: #ffffff;
            color: #000000;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 30px;
            transition: 0.2s;
        }
        .continue-btn:hover:not(:disabled) {
            background: #eeeeee;
            transform: translateY(-2px);
        }
        .continue-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        /* Back Button */
        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: #111111;
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            border: 1px solid #333333;
            z-index: 1000;
            font-size: 1.2rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            body { padding: 15px; }
            .hashtag-options { grid-template-columns: 1fr; }
            .header h1 { font-size: 1.8rem; }
            .back-btn {
                top: 15px;
                left: 15px;
                width: 40px;
                height: 40px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <a href="login.html" class="back-btn" onclick="localStorage.removeItem('nope_logged_in')">
        ‚Üê
    </a>
    
    <div class="header">
        <h1>Choose Your Rage Identity</h1>
        <p>Select 1 hashtag from each zone below (3 total)</p>
    </div>
    
    <div class="user-info" id="userInfo">
        Loading your profile...
    </div>
    
    <div class="rules-box">
        <h3>üìã Selection Rules</h3>
        <ul>
            <li>üé¨ <strong>Choose 1 hashtag from Pop Culture</strong></li>
            <li>üíî <strong>Choose 1 hashtag from Personal Pain</strong></li>
            <li>üò∑ <strong>Choose 1 hashtag from Social Sickness</strong></li>
            <li>üöÄ Movement Zone (locked - invitation only)</li>
        </ul>
    </div>
    
    <!-- ZONA 1: POP CULTURE -->
    <div class="zone-section">
        <div class="zone-title pop-culture">
            <span class="emoji">üé¨</span> POP CULTURE ZONE (Choose 1)
        </div>
        <div class="hashtag-options" id="popCultureOptions">
            <!-- Options loaded by JS -->
        </div>
    </div>
    
    <!-- ZONA 2: PERSONAL PAIN -->
    <div class="zone-section">
        <div class="zone-title personal-pain">
            <span class="emoji">üíî</span> PERSONAL PAIN ZONE (Choose 1)
        </div>
        <div class="hashtag-options" id="personalPainOptions">
            <!-- Options loaded by JS -->
        </div>
    </div>
    
    <!-- ZONA 3: SOCIAL SICKNESS -->
    <div class="zone-section">
        <div class="zone-title social-sickness">
            <span class="emoji">üò∑</span> SOCIAL SICKNESS ZONE (Choose 1)
        </div>
        <div class="hashtag-options" id="socialSicknessOptions">
            <!-- Options loaded by JS -->
        </div>
    </div>
    
    <!-- ZONA 4: MOVEMENT (LOCKED) -->
    <div class="zone-section">
        <div class="zone-title movement">
            <span class="emoji">üöÄ</span> MOVEMENT ZONE (Invitation Only)
        </div>
        <div class="hashtag-options" id="movementOptions">
            <!-- Locked options loaded by JS -->
        </div>
    </div>
    
    <!-- Selection Status -->
    <div class="selection-status">
        <div class="status-item">
            <span class="status-label">üé¨ Pop Culture</span>
            <span class="status-value incomplete" id="statusPop">Not selected</span>
        </div>
        <div class="status-item">
            <span class="status-label">üíî Personal Pain</span>
            <span class="status-value incomplete" id="statusPersonal">Not selected</span>
        </div>
        <div class="status-item">
            <span class="status-label">üò∑ Social Sickness</span>
            <span class="status-value incomplete" id="statusSocial">Not selected</span>
        </div>
        <div class="status-item">
            <span class="status-label">üöÄ Movement</span>
            <span class="status-value">Locked üîí</span>
        </div>
        <div class="status-item">
            <span class="status-label">Total Selected</span>
            <span class="status-value" id="statusTotal">0/3</span>
        </div>
    </div>
    
    <button class="continue-btn" id="continueBtn" disabled>
        CONTINUE TO HOME
    </button>

    <script>
        console.log('=== NOPE ONBOARDING - 3 ZONE SELECTION ===');
        
        // Check login
        const username = localStorage.getItem('nope_anon_username');
        const isLoggedIn = localStorage.getItem('nope_logged_in') === 'true';
        
        if (!isLoggedIn || !username) {
            alert('Please login first');
            window.location.href = 'login.html';
        }
        
        // Display username
        document.getElementById('userInfo').innerHTML = 
            `Welcome, <strong style="color: #ff3b30">${username}</strong>`;
        
        // Hashtag data by zones
        const ZONE_DATA = {
            'pop-culture': [
                { id: 'pc1', name: '#BellTiketJualSinjal', posts: 89 },
                { id: 'pc2', name: '#InfluencerNgchek', posts: 203 },
                { id: 'pc3', name: '#FilmEndingGaje', posts: 142 },
                { id: 'pc4', name: '#TikTokCringe', posts: 156 },
                { id: 'pc5', name: '#CelebrityFail', posts: 98 }
            ],
            'personal-pain': [
                { id: 'pp1', name: '#MagangDigajiSertifikat', posts: 245 },
                { id: 'pp2', name: '#DiajakJalanTapiKempes', posts: 178 },
                { id: 'pp3', name: '#DiphostingGebetan', posts: 312 },
                { id: 'pp4', name: '#MinjemDuitGaBalik', posts: 210 },
                { id: 'pp5', name: '#ProjectLastMinute', posts: 189 }
            ],
            'social-sickness': [
                { id: 'ss1', name: '#DramaQueenAnjay', posts: 189 },
                { id: 'ss2', name: '#BacotLambeTurah', posts: 321 },
                { id: 'ss3', name: '#RencanaPlinPlan', posts: 267 },
                { id: 'ss4', name: '#GhostingCulture', posts: 198 },
                { id: 'ss5', name: '#FlexingGaJelas', posts: 145 }
            ],
            'movement': [
                { id: 'mv1', name: '#ReformasiSistem', posts: 312, locked: true },
                { id: 'mv2', name: '#AksiNyata2024', posts: 189, locked: true },
                { id: 'mv3', name: '#VoiceForChange', posts: 245, locked: true },
                { id: 'mv4', name: '#YouthPower', posts: 178, locked: true },
                { id: 'mv5', name: '#DigitalProtest', posts: 156, locked: true }
            ]
        };
        
        // User selections
        let userSelections = {
            'pop-culture': null,
            'personal-pain': null,
            'social-sickness': null,
            'movement': null // Always null (locked)
        };
        
        // Initialize
        function init() {
            renderAllZones();
            setupEventListeners();
            updateStatus();
        }
        
        // Render zones
        function renderAllZones() {
            renderZone('pop-culture', 'popCultureOptions');
            renderZone('personal-pain', 'personalPainOptions');
            renderZone('social-sickness', 'socialSicknessOptions');
            renderZone('movement', 'movementOptions', true);
        }
        
        function renderZone(zoneKey, containerId, isLocked = false) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            const hashtags = ZONE_DATA[zoneKey];
            container.innerHTML = '';
            
            hashtags.forEach(hashtag => {
                const isSelected = userSelections[zoneKey]?.id === hashtag.id;
                const isLockedTag = hashtag.locked || isLocked;
                
                const div = document.createElement('div');
                div.className = `hashtag-option ${isSelected ? 'selected' : ''} ${isLockedTag ? 'locked' : ''}`;
                div.dataset.id = hashtag.id;
                div.dataset.zone = zoneKey;
                div.dataset.name = hashtag.name;
                
                div.innerHTML = `
                    <div class="name">${hashtag.name}</div>
                    <div class="posts">${hashtag.posts} posts</div>
                    ${isLockedTag ? '<div style="color: #5ac8fa; font-size: 0.8rem; margin-top: 5px;">üîí Invitation Only</div>' : ''}
                    ${isSelected ? '<div style="color: #ff3b30; font-size: 0.9rem; margin-top: 5px;">‚úì SELECTED</div>' : ''}
                `;
                
                if (!isLockedTag) {
                    div.addEventListener('click', () => selectHashtag(zoneKey, hashtag));
                }
                
                container.appendChild(div);
            });
        }
        
        // Select hashtag
        function selectHashtag(zoneKey, hashtag) {
            // If already selected, deselect
            if (userSelections[zoneKey]?.id === hashtag.id) {
                userSelections[zoneKey] = null;
            } else {
                // Deselect any previous selection in this zone
                userSelections[zoneKey] = hashtag;
            }
            
            // Re-render zones
            renderAllZones();
            updateStatus();
        }
        
        // Update selection status
        function updateStatus() {
            const popSelected = userSelections['pop-culture'] !== null;
            const personalSelected = userSelections['personal-pain'] !== null;
            const socialSelected = userSelections['social-sickness'] !== null;
            
            // Update status indicators
            document.getElementById('statusPop').textContent = popSelected ? userSelections['pop-culture'].name : 'Not selected';
            document.getElementById('statusPop').className = popSelected ? 'status-value complete' : 'status-value incomplete';
            
            document.getElementById('statusPersonal').textContent = personalSelected ? userSelections['personal-pain'].name : 'Not selected';
            document.getElementById('statusPersonal').className = personalSelected ? 'status-value complete' : 'status-value incomplete';
            
            document.getElementById('statusSocial').textContent = socialSelected ? userSelections['social-sickness'].name : 'Not selected';
            document.getElementById('statusSocial').className = socialSelected ? 'status-value complete' : 'status-value incomplete';
            
            // Calculate total
            const totalSelected = [popSelected, personalSelected, socialSelected].filter(Boolean).length;
            document.getElementById('statusTotal').textContent = `${totalSelected}/3`;
            
            // Enable/disable continue button
            const canContinue = popSelected && personalSelected && socialSelected;
            document.getElementById('continueBtn').disabled = !canContinue;
        }
        
        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('continueBtn').addEventListener('click', completeOnboarding);
        }
        
        // Complete onboarding
        function completeOnboarding() {
            if (!userSelections['pop-culture'] || !userSelections['personal-pain'] || !userSelections['social-sickness']) {
                alert('Please select 1 hashtag from each zone');
                return;
            }
            
            // Prepare user profile
            const userProfile = {
                username: username,
                selections: {
                    popCulture: userSelections['pop-culture'].name,
                    personalPain: userSelections['personal-pain'].name,
                    socialSickness: userSelections['social-sickness'].name
                },
                zones: {
                    'pop-culture': userSelections['pop-culture'].name,
                    'personal-pain': userSelections['personal-pain'].name,
                    'social-sickness': userSelections['social-sickness'].name
                },
                joinedAt: new Date().toISOString()
            };
            
            console.log('User profile:', userProfile);
            
            // Save to localStorage
            localStorage.setItem('nope_user_profile', JSON.stringify(userProfile));
            localStorage.setItem('nope_selected_hashtags', JSON.stringify([
                userSelections['pop-culture'].name,
                userSelections['personal-pain'].name,
                userSelections['social-sickness'].name
            ]));
            localStorage.setItem('nope_onboarding_complete', 'true');
            
            // Generate some mock data for other users (for demo)
            generateMockCommunityData();
            
            // Show loading
            const btn = document.getElementById('continueBtn');
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> PREPARING YOUR HOME...';
            btn.disabled = true;
            
            // Redirect to Home
            setTimeout(() => {
                window.location.href = 'home.html';
            }, 1500);
        }
        
        // Generate mock community data (for demo)
        function generateMockCommunityData() {
            const mockUsers = [];
            const mockPosts = [];
            
            // Generate 50 mock users with random selections
            for (let i = 1; i <= 50; i++) {
                const mockUser = {
                    username: `user_${i}`,
                    selections: {
                        popCulture: getRandomHashtag('pop-culture'),
                        personalPain: getRandomHashtag('personal-pain'),
                        socialSickness: getRandomHashtag('social-sickness')
                    },
                    isMock: true
                };
                mockUsers.push(mockUser);
                
                // Generate 2-5 mock posts per user
                const postCount = Math.floor(Math.random() * 4) + 2;
                for (let j = 0; j < postCount; j++) {
                    const zones = ['pop-culture', 'personal-pain', 'social-sickness'];
                    const randomZone = zones[Math.floor(Math.random() * zones.length)];
                    
                    mockPosts.push({
                        id: `post_${i}_${j}`,
                        text: getRandomRageText(randomZone),
                        hashtag: getRandomHashtag(randomZone),
                        zone: randomZone,
                        author: `user_${i}`,
                        timestamp: new Date(Date.now() - Math.random() * 7 * 24 * 60 * 60 * 1000).toISOString(),
                        likes: Math.floor(Math.random() * 50),
                        comments: Math.floor(Math.random() * 10),
                        isMock: true
                    });
                }
            }
            
            // Save to localStorage
            localStorage.setItem('nope_mock_users', JSON.stringify(mockUsers));
            localStorage.setItem('nope_mock_posts', JSON.stringify(mockPosts));
            
            console.log(`Generated ${mockUsers.length} mock users and ${mockPosts.length} mock posts`);
        }
        
        // Helper functions for mock data
        function getRandomHashtag(zoneKey) {
            const hashtags = ZONE_DATA[zoneKey];
            return hashtags[Math.floor(Math.random() * hashtags.length)].name;
        }
        
        function getRandomRageText(zone) {
            const rageTexts = {
                'pop-culture': [
                    "Influencer zaman sekarang cuma pamer doang, kontennya ga ada mutunya!",
                    "Film series selalu cliffhanger, males banget nunggu season berikutnya.",
                    "TikTok bikin otak encer, konten cepet banget ga ada yang lasting.",
                    "Celebritas hidupnya perfect di sosmed, real life pasti banyak masalah.",
                    "Trending topic selalu hal sepele, masalah penting malah ga dibahas."
                ],
                'personal-pain': [
                    "Magang 6 bulan digaji Rp 0, cuma dapet sertifikat doang, capek deh!",
                    "Diajak jalan janjinya mau traktir, akhirnya bayar sendiri, sakit hati banget.",
                    "Diphosting sama gebetan padahal udah niat mau serius, males main tebak-tebakan.",
                    "Minjem duit ke temen 3 bulan ga dibalikin, sekarang malah menghilang.",
                    "Project dadakan deadline besok, mana clientnya banyak maunya lagi."
                ],
                'social-sickness': [
                    "Drama queen di kantor bikin suasana tegang, kerja jadi ga nyaman.",
                    "Temen yang bacot mulu tapi ga ada action, omong doang pinter.",
                    "Rencana plin-plan temen bikin gagal semua planning, kesel banget.",
                    "Ghosting culture sekarang jadi normal, komunikasi dasar aja susah.",
                    "Flexing hidup perfect di sosmed padahal utang dimana-mana, fake banget."
                ]
            };
            
            const texts = rageTexts[zone] || ["Rage about this topic..."];
            return texts[Math.floor(Math.random() * texts.length)];
        }
        
        // Initialize app
        document.addEventListener('DOMContentLoaded', init);
    </script>
        <script src="onboarding-script.js"></script>
    
    <!-- ========== BOTTOM NAVIGATION START ========== -->
    <div class="bottom-nav">
        <a href="home.html" class="nav-item" id="navHome">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        
        <a href="notifications.html" class="nav-item" id="navNotifications">
            <i class="fas fa-bell"></i>
            <span>Notifikasi</span>
        </a>
        
        <a href="onboarding.html" class="nav-item active" id="navOnboarding">
            <i class="fas fa-fire"></i>
            <span>Rage</span>
        </a>
        
        <a href="profile.html" class="nav-item" id="navProfile">
            <i class="fas fa-user-secret"></i>
            <span>Profile</span>
        </a>
    </div>
    
    <script>
        // Bottom Navigation Logic
        document.addEventListener('DOMContentLoaded', function() {
            const navItems = document.querySelectorAll('.nav-item');
            
            // Set onboarding as active
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.id === 'navOnboarding') {
                    item.classList.add('active');
                }
            });
        });
    </script>
    <!-- ========== BOTTOM NAVIGATION END ========== -->
    
</body>
</html>
</body>
</html>

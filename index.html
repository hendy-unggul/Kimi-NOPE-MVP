<!DOCTYPE html>
<html>
<head>
    <title>Kesel ‚Üí Rage Flowless</title>
    <style>
        body {
            font-family: sans-serif;
            background: #1a1a2e;
            color: white;
            margin: 0;
            padding: 20px;
            max-width: 600px;
            margin: auto;
        }
        
        /* Container utama */
        .main-container {
            transition: all 0.4s ease;
        }
        
        /* Section pilih hashtag */
        .hashtag-section {
            transition: opacity 0.3s, transform 0.3s;
        }
        
        /* Rage section - muncul menggantikan */
        .rage-section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s, transform 0.5s;
        }
        
        .rage-section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Hashtag items */
        .hashtag {
            background: #0f3460;
            border: 2px solid #394867;
            border-radius: 10px;
            padding: 15px;
            margin: 8px 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.2s;
        }
        
        .hashtag.selected {
            border-color: #2ecc71;
            background: rgba(46, 204, 113, 0.15);
        }
        
        .checkbox {
            width: 22px;
            height: 22px;
            border: 2px solid #555;
            border-radius: 5px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .selected .checkbox {
            background: #2ecc71;
            border-color: #2ecc71;
        }
        
        .selected .checkbox::after {
            content: "‚úì";
            color: white;
            font-weight: bold;
        }
        
        /* Progress bar */
        .progress-container {
            height: 6px;
            background: #394867;
            border-radius: 3px;
            margin: 25px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: #ff6b6b;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        /* Rage textarea */
        .rage-input {
            width: 100%;
            height: 140px;
            background: #162447;
            border: 2px solid #ff6b6b;
            border-radius: 12px;
            color: white;
            font-size: 16px;
            padding: 15px;
            margin: 20px 0 10px;
            resize: vertical;
            font-family: inherit;
        }
        
        .rage-input:focus {
            outline: none;
            border-color: #ffd166;
        }
        
        .char-count {
            text-align: right;
            color: #aaa;
            font-size: 14px;
            margin-bottom: 20px;
        }
        
        /* Button */
        .action-btn {
            width: 100%;
            padding: 18px;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .action-btn:hover {
            background: #ff4757;
            transform: translateY(-2px);
        }
        
        .action-btn:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Tag display */
        .selected-tags {
            background: rgba(255, 107, 107, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #ff6b6b;
            font-size: 14px;
        }
        
        /* Zone headers */
        .zone {
            margin: 25px 0 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #394867;
            color: #ffd166;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="main-container">
        
        <!-- SECTION 1: PILIH HASHTAG -->
        <div id="hashtagSection" class="hashtag-section">
            <h2>üéØ PILIH 3 HAL YANG BIKIN KESEL</h2>
            <p style="color: #aaa;">Pilih 1 dari tiap zona (identitas anonimmu)</p>
            
            <div class="progress-container">
                <div id="progressBar" class="progress-bar"></div>
            </div>
            
            <div class="zone">üé¨ POPCULTURE</div>
            <div class="hashtag" data-zone="1" data-tag="#FilmEndingGaje">
                <div class="checkbox"></div>
                #FilmEndingGaje
            </div>
            <div class="hashtag" data-zone="1" data-tag="#BellTiketJualGinjal">
                <div class="checkbox"></div>
                #BellTiketJualGinjal
            </div>
            <div class="hashtag" data-zone="1" data-tag="#InfluencerNgchek">
                <div class="checkbox"></div>
                #InfluencerNgchek
            </div>
            
            <div class="zone">üíî PERSONAL PAIN</div>
            <div class="hashtag" data-zone="2" data-tag="#DiGhostingGebetan">
                <div class="checkbox"></div>
                #DiGhostingGebetan
            </div>
            <div class="hashtag" data-zone="2" data-tag="#DiajakJalanTapiKempes">
                <div class="checkbox"></div>
                #DiajakJalanTapiKempes
            </div>
            <div class="hashtag" data-zone="2" data-tag="#MagangDigajiSertifikat">
                <div class="checkbox"></div>
                #MagangDigajiSertifikat
            </div>
            
            <div class="zone">üò§ SOCIAL SICKNESS</div>
            <div class="hashtag" data-zone="3" data-tag="#RencanaPinPlan">
                <div class="checkbox"></div>
                #RencanaPinPlan
            </div>
            <div class="hashtag" data-zone="3" data-tag="#DramaQueenAnjay">
                <div class="checkbox"></div>
                #DramaQueenAnjay
            </div>
            <div class="hashtag" data-zone="3" data-tag="#BacotLambeTurah">
                <div class="checkbox"></div>
                #BacotLambeTurah
            </div>
            
            <div class="selected-tags" id="selectedPreview" style="display:none;">
                <strong>Pilihanmu:</strong> <span id="previewTags"></span>
            </div>
            
            <button id="continueBtn" class="action-btn" disabled>
                ‚ö° LANJUT TULIS RAGE
            </button>
        </div>
        
        <!-- SECTION 2: TULIS RAGE -->
        <div id="rageSection" class="rage-section">
            <h2>üí• LAMPISAKAN KEKESALANMU</h2>
            
            <div class="selected-tags">
                <strong>Identitas Kesel Kamu:</strong><br>
                <span id="displayTags"></span>
            </div>
            
            <p>Tulis kekesalanmu dalam <strong>280 huruf</strong>:</p>
            
            <textarea 
                id="rageText" 
                class="rage-input"
                placeholder="Aku kesel banget karena..."
                maxlength="280"
            ></textarea>
            
            <div id="charCount" class="char-count">0/280</div>
            
            <div style="display:flex; gap:10px;">
                <button id="backBtn" class="action-btn" style="background:#394867;">
                    ‚Üê KEMBALI
                </button>
                <button id="submitBtn" class="action-btn">
                    üí¢ POST KE DINDING KESEL
                </button>
            </div>
        </div>
        
    </div>

    <script>
        let selected = [];
        const maxSelections = 3;
        
        // PROGRESS & STATE
        function updateUI() {
            const progress = (selected.length / maxSelections) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            
            const continueBtn = document.getElementById('continueBtn');
            const canContinue = selected.length === maxSelections;
            
            continueBtn.disabled = !canContinue;
            continueBtn.textContent = canContinue 
                ? `‚ö° LANJUT TULIS RAGE (${selected.length}/${maxSelections})` 
                : `Pilih ${maxSelections - selected.length} lagi`;
            
            // Preview selected tags
            const preview = document.getElementById('selectedPreview');
            const previewTags = document.getElementById('previewTags');
            
            if (selected.length > 0) {
                preview.style.display = 'block';
                previewTags.textContent = selected.join(', ');
            } else {
                preview.style.display = 'none';
            }
        }
        
        // HASHTAG SELECTION
        document.querySelectorAll('.hashtag').forEach(item => {
            item.addEventListener('click', () => {
                const tag = item.dataset.tag;
                const zone = item.dataset.zone;
                
                if (item.classList.contains('selected')) {
                    // Deselect
                    item.classList.remove('selected');
                    selected = selected.filter(t => t !== tag);
                } else {
                    // Check limits
                    if (selected.length >= maxSelections) {
                        alert(`Maksimal ${maxSelections} pilihan!`);
                        return;
                    }
                    
                    // Check zone already selected
                    const zoneSelected = selected.some(t => {
                        const elem = document.querySelector(`[data-tag="${t}"]`);
                        return elem.dataset.zone === zone;
                    });
                    
                    if (zoneSelected) {
                        alert('Hanya 1 pilihan per zona!');
                        return;
                    }
                    
                    // Select
                    item.classList.add('selected');
                    selected.push(tag);
                }
                
                updateUI();
            });
        });
        
        // CONTINUE TO RAGE
        document.getElementById('continueBtn').addEventListener('click', () => {
            document.getElementById('hashtagSection').style.opacity = '0';
            document.getElementById('hashtagSection').style.transform = 'translateY(-20px)';
            document.getElementById('hashtagSection').style.pointerEvents = 'none';
            
            setTimeout(() => {
                document.getElementById('hashtagSection').style.display = 'none';
                document.getElementById('rageSection').classList.add('active');
                document.getElementById('displayTags').textContent = selected.join(', ');
            }, 300);
        });
        
        // BACK BUTTON
        document.getElementById('backBtn').addEventListener('click', () => {
            document.getElementById('rageSection').classList.remove('active');
            
            setTimeout(() => {
                document.getElementById('hashtagSection').style.display = 'block';
                document.getElementById('hashtagSection').style.opacity = '1';
                document.getElementById('hashtagSection').style.transform = 'translateY(0)';
                document.getElementById('hashtagSection').style.pointerEvents = 'all';
            }, 50);
        });
        
        // CHARACTER COUNT
        const rageText = document.getElementById('rageText');
        const charCount = document.getElementById('charCount');
        
        rageText.addEventListener('input', () => {
            const len = rageText.value.length;
            charCount.textContent = `${len}/280`;
            charCount.style.color = len > 250 ? '#ff6b6b' : len > 200 ? '#ffd166' : '#aaa';
        });
        
        // SUBMIT RAGE
        document.getElementById('submitBtn').addEventListener('click', () => {
            const text = rageText.value.trim();
            
            if (text.length < 10) {
                alert('Minimal 10 karakter untuk kesel yang berarti!');
                return;
            }
            
            // Simulasi POST
            alert(`‚úÖ KESELANMU TERKIRIM!\n\n"${text.substring(0, 50)}${text.length > 50 ? '...' : ''}"\n\nTelah masuk ke Dinding Kekesalan.`);
            
            // Reset
            rageText.value = '';
            charCount.textContent = '0/280';
            charCount.style.color = '#aaa';
        });
        
        // INIT
        updateUI();
    </script>
</body>
</html>
